<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.81.0" />
    <meta name="description" content="">


    <link rel="icon" href="../../images/favicon.png" type="image/png">

    <title>1. Life Cycle - Activities :: App Development</title>

    
    <link href="../../css/nucleus.css?1627031041" rel="stylesheet">
    <link href="../../css/fontawesome-all.min.css?1627031041" rel="stylesheet">
    <link href="../../css/hybrid.css?1627031041" rel="stylesheet">
    <link href="../../css/featherlight.min.css?1627031041" rel="stylesheet">
    <link href="../../css/perfect-scrollbar.min.css?1627031041" rel="stylesheet">
    <link href="../../css/auto-complete.css?1627031041" rel="stylesheet">
    <link href="../../css/atom-one-dark-reasonable.css?1627031041" rel="stylesheet">
    <link href="../../css/theme.css?1627031041" rel="stylesheet">
    <link href="../../css/hugo-theme.css?1627031041" rel="stylesheet">
    
    <link href="../../css/theme-kul.css?1627031041" rel="stylesheet">
    
    

    <script src="../../js/jquery-3.3.1.min.js?1627031041"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
      <script id="MathJax-script" async
          src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>

<script>
window.MathJax = {
  chtml: {
    scale: 2,                      
    minScale: .5,                  
    matchFontHeight: true,         
    mtextInheritFont: false,       
    merrorInheritFont: true,       
    mathmlSpacing: false,          
    skipAttributes: {},            
    exFactor: .5,                  
    displayAlign: 'center',        
    displayIndent: '0'             
  }
};
</script>

<script src=../../js/osc.js></script>
  </head>
  <body class="" data-url="../../android/activities/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="https://www.kuleuven.be/kuleuven/" target="_blank">
	<img src="../../img/style/kul.png" alt="KU Leuven" /><br/>
</a>
<a href="https://www.uhasselt.be/" target="_blank">
	<img src="../../img/style/uhasselt.svg" alt="UHasselt" id="uhlogo" />
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../js/lunr.min.js?1627031041"></script>
<script type="text/javascript" src="../../js/auto-complete.js?1627031041"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/kuleuven-diepenbeek.github.io\/appdev-course\/";
    
</script>
<script type="text/javascript" src="../../js/search.js?1627031041"></script>

    
  </div>

    <div class="highlightable">
    <h3><a href="../../">Course Contents</a></h3>
    <ul class="topics">
        
          
          




 
  
    
    <li data-nav-id="/android/" title="1. Android Essentials" class="dd-item 
        parent
        
        
        ">
      <a href="../../android/">
          1. Android Essentials
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/android/activities/" title="1. Life Cycle - Activities" class="dd-item active">
        <a href="../../android/activities/">
        1. Life Cycle - Activities
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/android/intents/" title="2. Messaging - Intents" class="dd-item ">
        <a href="../../android/intents/">
        2. Messaging - Intents
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/android/views/" title="3. Layouts - Views" class="dd-item ">
        <a href="../../android/views/">
        3. Layouts - Views
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/android/data-storage/" title="4. Data Storage - File/Network" class="dd-item ">
        <a href="../../android/data-storage/">
        4. Data Storage - File/Network
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/android/fragments/" title="5. Complex layouting - Fragments" class="dd-item ">
        <a href="../../android/fragments/">
        5. Complex layouting - Fragments
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/android/signals/" title="6. Embedded Signals" class="dd-item ">
        <a href="../../android/signals/">
        6. Embedded Signals
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/lang/" title="2. Language &amp; Support Tools" class="dd-item 
        
        
        
        ">
      <a href="../../lang/">
          2. Language &amp; Support Tools
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/lang/kotlin/" title="1. The Kotlin programming lang." class="dd-item ">
        <a href="../../lang/kotlin/">
        1. The Kotlin programming lang.
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/lang/kotlin-examples/" title="2. Kotlin Examples/Exercises" class="dd-item ">
        <a href="../../lang/kotlin-examples/">
        2. Kotlin Examples/Exercises
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/lang/tdd/" title="2. Test Driven Development" class="dd-item ">
        <a href="../../lang/tdd/">
        2. Test Driven Development
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/lang/multiplatform/" title="3. Multiplatform Mobile dev." class="dd-item ">
        <a href="../../lang/multiplatform/">
        3. Multiplatform Mobile dev.
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/extra/" title="3. Extra info" class="dd-item 
        
        
        
        ">
      <a href="../../extra/">
          3. Extra info
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/extra/install/" title="1. Installation Guide" class="dd-item ">
        <a href="../../extra/install/">
        1. Installation Guide
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/faq/" title="2. Common Errors FAQ" class="dd-item ">
        <a href="../../extra/faq/">
        2. Common Errors FAQ
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/links/" title="3. Links and Tutorials" class="dd-item ">
        <a href="../../extra/links/">
        3. Links and Tutorials
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/project/" title="4. Project Information" class="dd-item ">
        <a href="../../extra/project/">
        4. Project Information
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/demo/" title="5. Demo Project" class="dd-item ">
        <a href="../../extra/demo/">
        5. Demo Project
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://uhintra03.uhasselt.be/studiegidswww/opleidingsonderdeel.aspx?a=2021&amp;i=3291&amp;n=4&amp;t=01"><i class='fa fa-university'></i> ECTS Sheet</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://toledo.kuleuven.be/portal/"><i class='fa fa-university'></i> Toledo</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../../'>Course Contents</a> > <a href='../../android/'>1. Android Essentials</a> > 1. Life Cycle - Activities
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#whats-an-activity">What&rsquo;s an activity?</a></li>
    <li><a href="#creating-activities-in-android-studio">Creating activities in Android Studio</a></li>
    <li><a href="#adding-actions">Adding actions</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              1. Life Cycle - Activities
            </h1>
          

        


<h2 id="whats-an-activity">What&rsquo;s an activity?</h2>
<blockquote>
<p>An activity is a <strong>single, focused thing</strong> that a user can do.</p>
</blockquote>
<p>To put it simply, an activity is a window in your app. Each window should do one thing, such as:</p>
<ul>
<li>Let the user login</li>
<li>Show a welcome screen</li>
<li>Let the user pick something out of a list</li>
<li>Show the user detail information of the picked item</li>
<li>Let the user modify settings</li>
<li>&hellip;</li>
</ul>
<p><figure>
	<a href="../../img/activities.png" data-featherlight="image">
		<img src="../../img/activities.png"   title="Two example activities.">
	</a>
	
		<figcaption>Two example activities.</figcaption>
	
</figure>
</p>
<p>(Images used on this page sourced from <a href="https://franklineduardojimenezgiraldo.gitbooks.io/android-studio/">https://franklineduardojimenezgiraldo.gitbooks.io/android-studio/</a>)</p>
<p>Since a single &ldquo;activity&rdquo;/action/screen/window/whatever-the-name is not going to cut it, multiple activities have to be developed and <strong>wired together</strong>. This is done using <em>wireframing</em>. A wireframe dictates the flow of the application. The above image represents a welcome screen, and a login screen. It might transition to the login screen after tapping or after three seconds. After pressing &ldquo;Sign Up&rdquo;, it might transition again, to a master/detail screen. The resulting wireframe might look like this:</p>
<p><figure>
	<a href="../../img/wireframe.png" data-featherlight="image">
		<img src="../../img/wireframe.png"   title="An example wireframe that defines relationships between activities.">
	</a>
	
		<figcaption>An example wireframe that defines relationships between activities.</figcaption>
	
</figure>
</p>
<p>Since in many activities, components reappear, they get <strong>re-used</strong> by splitting an activity into <em>fragments</em>. We&rsquo;ll get to that in the <a href="../../android/fragments">complex layouting - fragments</a> part.</p>
<h2 id="creating-activities-in-android-studio">Creating activities in Android Studio</h2>
<p>Let&rsquo;s try to create <strong>our first activity</strong>: login screen. Which components can you identify in the above schematics?</p>
<ol>
<li>A &ldquo;Login&rdquo; label or graphic</li>
<li>A username text field</li>
<li>A password text field</li>
<li>A login button</li>
<li>A &ldquo;or&rdquo; label</li>
<li>A &ldquo;create account&rdquo; button/anchor link</li>
</ol>
<p>Right. These are simple enough. Create a new project, starting with an <em>Empty Activity</em> under template <em>Phone and Tablet</em>. It&rsquo;ll create a single <code>MainActivity.kt</code> class with the following minimalistic code:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kt" data-lang="kt"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MainActivity</span> : AppCompatActivity() {
    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">onCreate</span>(savedInstanceState: Bundle?) {
        <span style="color:#66d9ef">super</span>.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
    }
}
</code></pre></div><p>The <code>activity_main.xml</code> will have a single <code>TextView</code> element with the label &ldquo;Hello World!&rdquo;. Try to <strong>bootstrap</strong> the project before making any changes to ensure your compiler and emulator are set up correctly.</p>
<p>The activity layout itself is described in XML. The root is currently <code>&lt;androidx.constraintlayout.widget.ConstraintLayout/&gt;&quot;</code>. Remember JavaFX&rsquo;s <code>AnchorPane</code>, were you could drop components into using SceneBuilder? This is more or less the same, but the &ldquo;Android way&rdquo;. There are of course multiple Layouts available.</p>
<p>Browse through the <a href="https://developer.android.com/reference/androidx/constraintlayout/widget/ConstraintLayout">ConstraintLayout documentation</a> and watch the <a href="https://www.youtube.com/watch?v=XamMbnzI5vE">short introduction video</a> on how to build interfaces with it. It allows for multiple flexible ways to define constraints that dictate the position of the components: relative positioning, margins, centering, circular positioning, chaining, dimension constraining, and so forth. We&rsquo;ll minimize complexity by resorting to the GUI-editor embedded into Android Studio instead of writing too much UI-specific code.</p>

<div class="notices note" ><p>Fiddle with the layout editor to place the six needed components for the login screen.</p>
</div>

<p>Inspect and modify desired properties of components if needed in the right-hand pane of the Design Editor (especially the ID on the top-right):</p>
<p><figure>
	<a href="../../img/designproperties.jpg" data-featherlight="image">
		<img src="../../img/designproperties.jpg"   title="Changing the text property of a TextView.">
	</a>
	
		<figcaption>Changing the text property of a TextView.</figcaption>
	
</figure>
</p>
<p>Without specifying <strong>constraints</strong>, the components will be re-positioned to <code>(0, )</code> after publishing to your device. To add constraints, drag the circles to touching edges of the <code>ConstraintLayout</code>, or to other elements present in the activity. This &ldquo;locks&rdquo; the component, allowing it only to move by adhering to the constraints. After setting all constraints, try moving one of the components: others will move along with it due to the constraints.</p>
<h2 id="adding-actions">Adding actions</h2>
<p>Once you&rsquo;ve got a login button up and running, it would be nice if it actually did something when pressing it. The easiest way to do that is to use <a href="https://developer.android.com/topic/libraries/view-binding">Android View Binding</a>:</p>
<blockquote>
<p>View binding is a feature that allows you to more easily write code that interacts with views. Once view binding is enabled in a module, it generates a binding class for each XML layout file present in that module. An instance of a binding class contains direct references to all views that have an ID in the corresponding layout.</p>
</blockquote>
<p>To enable, simply add the <code>buildFeature</code> in your <code>build.gradle.kts</code> file:</p>
<pre><code>android {
    ...
    buildFeatures {
        viewBinding = true
    }
}
</code></pre><p>After refreshing, every XML layout file will be accompanied by a secretly <em>generated Java file</em> that contains the items to access and attach events to. The name of the binding class is generated by converting the name of the XML file to Pascal case and adding the word &ldquo;Binding&rdquo; to the end. <code>activity_main.xml</code> will thus have an <code>ActivityMainBinding</code> class.</p>
<p>In your &ldquo;controller&rdquo; (you do remember the Model-View-Controller pattern, right?) that extends from <code>AppCompatAcitivy</code>, add a <code>lateinit</code> binding field, and refer to it using <code>inflate()</code>. Then, we&rsquo;ll set the content view to that particular binding root. If that is done, we can add events:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kt" data-lang="kt"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MainActivity</span> : AppCompatActivity() {

    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">lateinit</span> <span style="color:#66d9ef">var</span> binding: ActivityMainBinding

    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">onCreate</span>(savedInstanceState: Bundle?) {
        <span style="color:#66d9ef">super</span>.onCreate(savedInstanceState)
        binding = ActivityMainBinding.inflate(layoutInflater)

        <span style="color:#75715e">// warning, this is changed, it used to be R.main.id
</span><span style="color:#75715e"></span>        setContentView(binding.root)

        <span style="color:#75715e">// just to prove things changed
</span><span style="color:#75715e"></span>        binding.btnLogin.setText(<span style="color:#e6db74">&#34;lol&#34;</span>)        
    }
}
</code></pre></div><p>In JavaFX, this is a bit simpler:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SomeController</span> <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@FXML</span>
    <span style="color:#66d9ef">private</span> BUtton btnLogin<span style="color:#f92672">;</span>

    <span style="color:#a6e22e">@FXML</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">initialize</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        btnLogin<span style="color:#f92672">.</span><span style="color:#a6e22e">setOnClick</span><span style="color:#f92672">....</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>Here, we can create fields and auto-wire them. In Android, you have to rely on the generated binding class where the fields are: less messy but one more step needed to take.</p>
<p>We react to events such as the <code>click</code> (&ldquo;tap&rdquo;) event in the same way as you would do in JavaFX:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kt" data-lang="kt">binding.btnLogin.setOnClickListener { view <span style="color:#f92672">-&gt;</span>
    Snackbar.make(view, <span style="color:#e6db74">&#34;Nice, clicked a button&#34;</span>, Snackbar.LENGTH_LONG).setAction(<span style="color:#e6db74">&#34;Action&#34;</span>, <span style="color:#66d9ef">null</span>).show()
}
</code></pre></div><p><code>Snackbar</code> is a fast way to provide periodical feedback that automatically disappears. Ta-daa:</p>
<p><figure>
	<a href="../../img/loginbtn.jpg" data-featherlight="image">
		<img src="../../img/loginbtn.jpg"  >
	</a>
	
</figure>
</p>

<div class="notices note" ><p>Retrieve the password value and check it with some hard-coded value. If not correct, show a warning message using a <code>Snackbar</code>. If the username is empty, also show a warning message.</p>
</div>



<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="../../android/" title="1. Android Essentials"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../android/intents/" title="2. Messaging - Intents" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../js/clipboard.min.js?1627031041"></script>
    <script src="../../js/perfect-scrollbar.min.js?1627031041"></script>
    <script src="../../js/perfect-scrollbar.jquery.min.js?1627031041"></script>
    <script src="../../js/jquery.sticky.js?1627031041"></script>
    <script src="../../js/featherlight.min.js?1627031041"></script>
    <script src="../../js/highlight.pack.js?1627031041"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../../js/modernizr.custom-3.6.0.js?1627031041"></script>
    <script src="../../js/learn.js?1627031041"></script>
    <script src="../../js/hugo-learn.js?1627031041"></script>
    
        
            <script src="../../mermaid/mermaid.js?1627031041"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

